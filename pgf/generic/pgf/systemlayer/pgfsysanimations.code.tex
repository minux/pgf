% Copyright 2006 by Till Tantau
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/generic/pgf/licenses/LICENSE for more details.



% Guard against reading twice
\ifx\pgfsysanimationsloaded\pgfutil@undefined
  \let\pgfsysanimationsloaded=\relax
\else
  \expandafter\endinput
\fi
  

% Animation abstraction layer
%
% This layer provides an abstraction of the
% \pgfsys@anim... commands. The idea is to provide an interface that
% can map animation commands either to "real" animations (for instance
% in the sense of SVG) or to "snapshots" of animations, which are
% especially useful for printing. For these snapshots, instead of
% adding an animation property to a scope, the property is actually
% set to a certain value computed by \TeX.


% Right now, these commands simply map to the normal system commands.


\def\pgfsysanimateopacity{\pgfsys@animateopacity}
\def\pgfsysanimatefillopacity{\pgfsys@animatefillopacity}
\def\pgfsysanimatestrokeopacity{\pgfsys@animatestrokeopacity}
\def\pgfsysanimatevisibility{\pgfsys@animatevisibility}
\def\pgfsysanimatelinewidth{\pgfsys@animatelinewidth}
\def\pgfsysanimatetranslate{\pgfsys@animatetranslate}
\def\pgfsysanimatescale{\pgfsys@animatescale}
\def\pgfsysanimaterotate{\pgfsys@animaterotate}
\def\pgfsysanimateskewx{\pgfsys@animateskewx}
\def\pgfsysanimateskewy{\pgfsys@animateskewy}
\def\pgfsysanimatemotion{\pgfsys@animatemotion}
\def\pgfsysanimatestrokecolor{\pgfsys@animatestrokecolor}
\def\pgfsysanimatefillcolor{\pgfsys@animatefillcolor}
\def\pgfsysanimateviewbox{\pgfsys@animateviewbox}
\def\pgfsysanimatepath{\pgfsys@animatepath}
\def\pgfsysanimkeyduration{\pgfsys@animation@dur}
\def\pgfsysanimkeyminduration{\pgfsys@animation@min}
\def\pgfsysanimkeymaxduration{\pgfsys@animation@max}
\def\pgfsysanimkeyrestartalways{\pgfsys@animation@restart@always}
\def\pgfsysanimkeyrestartnever{\pgfsys@animation@restart@never}
\def\pgfsysanimkeyrestartwhennotactive{\pgfsys@animation@restart@whennotactive}
\def\pgfsysanimkeyrepeat{\pgfsys@animation@repeat}
\def\pgfsysanimkeyrepeatindefinite{\pgfsys@animation@repeat@indefinite}
\def\pgfsysanimkeyrepeatduration{\pgfsys@animation@repeat@dur}
\def\pgfsysanimkeyfreezeatend{\pgfsys@animation@freezeatend}
\def\pgfsysanimkeyremoveatend{\pgfsys@animation@removeatend}
\def\pgfsysanimkeykeytime{\pgfsys@animation@keytime}
\def\pgfsysanimkeykeyprogress{\pgfsys@animation@keyprogress}
\def\pgfsysanimkeykeysplinecontrol{\pgfsys@animation@keysplinecontrol}
\def\pgfsysanimkeyoffset{\pgfsys@animation@offset}
\def\pgfsysanimkeysyncbegin{\pgfsys@animation@syncbegin}
\def\pgfsysanimkeysyncend{\pgfsys@animation@syncend}
\def\pgfsysanimkeyevent{\pgfsys@animation@event}
\def\pgfsysanimkeyrepeatevent{\pgfsys@animation@repeat@event}
\def\pgfsysanimkeyaccesskey{\pgfsys@animation@accesskey}
\def\pgfsysanimkeysum{\pgfsys@animation@sum}
\def\pgfsysanimkeyreplace{\pgfsys@animation@replace}
\def\pgfsysanimkeyaccumulate{\pgfsys@animation@accumulate}
\def\pgfsysanimkeynoaccumulate{\pgfsys@animation@noaccumulate}
\def\pgfsysanimkeywhom{\pgfsys@animation@whom}
\def\pgfsysanimkeydiscrete{\pgfsys@animation@discrete}
\def\pgfsysanimkeylinear{\pgfsys@animation@linear}
\def\pgfsysanimkeypaced{\pgfsys@animation@paced}
\def\pgfsysanimkeyspline{\pgfsys@animation@spline}
\def\pgfsysanimkeyrotateanlong{\pgfsys@animation@rotatealong}
\def\pgfsysanimkeynorotatealong{\pgfsys@animation@norotatealong}
\def\pgfsysanimkeymovealong{\pgfsys@animation@movealong}
\def\pgfsysanimkeytext{\pgfsys@animation@text}
\def\pgfsysanimkeyscalar{\pgfsys@animation@scalar}
\def\pgfsysanimkeydimension{\pgfsys@animation@dimension}
\def\pgfsysanimkeycolor#1#2{%
  \pgfutil@colorlet{pgf@anim@temp}{#1}%
  \pgfutil@ifundefined{applycolormixins}{}{\applycolormixins{pgf@anim@temp}}%
  \expandafter\let\expandafter\pgf@sys@temp\csname\string\color@pgf@anim@temp\endcsname
  \expandafter\pgfanim@parse@type@color@\pgf@sys@temp{#2}%
}
\def\pgfanim@parse@type@color@#1#2#3#4#5#6{%
  \expandafter\ifx\csname pgfsys@animation@color@#4\endcsname\relax%
    \pgferror{Unsupported color model `#4'}%
  \else%
    \edef\pgf@sys@colmarshal{\expandafter\noexpand\csname pgfsys@animation@color@#4\endcsname}%
    \pgf@sys@uncomma#5,,%
    \pgf@sys@colmarshal{#6}%
  \fi%
}

\def\pgf@sys@uncomma#1,{%
  \def\pgf@sys@coltest{#1}%
  \ifx\pgf@sys@coltest\pgfutil@empty%
  \else%
    \expandafter\def\expandafter\pgf@sys@colmarshal\expandafter{\pgf@sys@colmarshal{#1}}%
    \expandafter\pgf@sys@uncomma%
  \fi%
}
\def\pgfsysanimkeycolorcmyk{\pgfsys@animation@color@cmyk}
\def\pgfsysanimkeycolorcmy{\pgfsys@animation@color@cmy}
\def\pgfsysanimkeycolorgray{\pgfsys@animation@color@gray}
\def\pgfsysanimkeypath{\pgfsys@animation@path}
\def\pgfsysanimkeytranslate{\pgfsys@animation@translate}
\def\pgfsysanimkeyscale{\pgfsys@animation@scale}
\def\pgfsysanimkeyrotate{\pgfsys@animation@rotate}
\def\pgfsysanimkeyviewbox{\pgfsys@animation@viewbox}
\def\pgfsysanimkeycanvastransform{\pgfsys@animation@canvas@transform}


\endinput
