% Copyright 2006 by Till Tantau
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Free Documentation License.
%
% See the file doc/generic/pgf/licenses/LICENSE for more details.

\def\pgfsysdriver{pgfsys-dvisvgm.def}

\usepackage[hypertex]{hyperref}


% Make sure to compile this using lualatex.


% Add forward button to each page:

\usepackage{everyshi}

\makeatletter
\newbox\pgfmanualbuttonbox
\newcount\pgfmanualcount

\EveryShipout{%%
  \setbox255=\vbox{%
    \let\protect=\relax%
    \pgfmanualcount=\c@page%
    \advance\pgfmanualcount by-1\relax%
    \ifnum\pgfmanualcount>0\relax%
      \begin{pgfpicture}{1in}{-1in}{1in}{-1in}
        \pgftext[top,left]{\href{\jobname-\pgfmanualpadded{\pgfmanualcount}.svg}{{\color{white}\vrule width 2cm height \paperheight}}}
      \end{pgfpicture}%
    \fi%
    \advance\pgfmanualcount by2\relax%
    \begin{pgfpicture}{-\paperwidth+1in}{-1in}{-\paperwidth+1in}{-1in}
      \pgftext[top,right]{\href{\jobname-\pgfmanualpadded{\pgfmanualcount}.svg}{\color{white}{\vrule width 2cm height \paperheight}}}
    \end{pgfpicture}%
    \unvbox255%
  }%
}
\def\pgfmanualpadded#1{%
  \ifnum#1<1000 0\fi%
  \ifnum#1<100 0\fi%
  \ifnum#1<10 0\fi%
  \the#1%
}
\makeatother
